<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<!-- Nama : Fahrur Rozy Siregar
	 NIM  : 11.111.1764
	 Kelas:  TI-B Pagi -->
<html >
	<head>
		<title>Sistem Operasi</title>
		<script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
		<script type="text/javascript" src="js/animation.js"></script>
		
		<script type="text/javascript" src="js/penjadwalanFCFS.js"></script>
		<script type="text/javascript" src="js/penjadwalanSJF.js"></script>
		<script type="text/javascript" src="js/penjadwalanRR.js"></script>
		<script type="text/javascript">		
 	
		
		function cekNilai(){
	 		var regex = new RegExp("[0-9]","i");
	 		return regex.test(document.form.data.value);
 		}	
 			
 		function showHasil(){
			document.getElementById("tableHasil").style.visibility = "visible";
			document.getElementById("fcfs").style.visibility = "visible";
			document.getElementById("sjf").style.visibility = "visible";
			document.getElementById("rr").style.visibility = "visible";
			
		}
		
		function closeHasil(){
			document.getElementById("tableHasil").style.visibility = "hidden";
			location.reload();
		}
		
 		function validasi(){
 			if(!cekNilai()){
  		    	alert("Silahkan masukkan angka atau isilah semua data dengan benar, thanks");
  		    	closeHasil();
  		    }
  		    else{
  		    	showHasil();
  		    }
  		    
   		}
 		
 		function CheckAndSubmit () {
 		validasi();
 		var data = parseInt(document.form.data.value);
 		simpanArray(data);
     	var dataArray = new Array (data);
     	var dataArray_1 = new Array (data);
	     	for(var i=0; i<data;i++){
		     	dataArray[i]= Math.floor((Math.random()*(data+1)));
		     	dataArray_1[i]= Math.floor((Math.random()*((data+1)*2)));
	        }
     	showArray(dataArray,dataArray_1,data);
		}
		
		function showArray(dataArrays,dataArrays_1,datas){
			
		var del=document.getElementById('tableHasil').rows[1];
			var table = document.getElementById('tableHasil');
			
			if( del != null){
			for (i=table.rows.length - 1; i > 0; i--){
					table.deleteRow(i);
				}
				
			}
			
		var u,x,y,z,t;
			for(var i=0; i<datas;i++){
				t=document.getElementById('tableHasil').insertRow(i+1);
				x=t.insertCell(0);
				y=t.insertCell(1);
				z=t.insertCell(2);
				x.innerHTML= "<input  name='dataRandom' type='text' value = P"+ (i+1) +"></input ";
				y.innerHTML= "<input  name='dataRandom' type='text' value = "+ dataArrays[i] +"></input ";
				z.innerHTML= "<input  name='dataRandom' type='text' value = "+ dataArrays_1[i] +"></input ";
			}
		}
		
		function simpanArray(data){
			
			var dataLama = new Array(1);
			dataLama[0] = data;
			return dataLama[0];
		}
			
				
		</script>
		
	</head>

	<body background="image.jpg" style="font-family: Verdana; font-size: 10pt">
		<div style="float: right;opacity: 0.8;"> <img src="rozy.PNG" /></div>
		<h2>Sistem Operasi : Penjadwalan Proses</h2>
		<h4>First Come First Served (FCFS), Shortest Job First(SJF), dan Round Robin</h4>
		<form id="regForm" name="form" action="#">
			<h4 style="color: white">Banyak proses : <input type="text" name="data"/></h4>
			
			<input style="visibility:visible ;" id="button" type="button" value="Lihat Hasil" onclick="CheckAndSubmit ()" />
			 <input type="reset"  onclick="closeHasil()"/><br/>	<br/>			 
		
			 <table style="visibility: hidden; text-align: center; color:white" id = "tableHasil" >
			 	<tr >
					<td width="100px">Nama Akses </td>
					<td width="100px">Tiba</td>
					<td width="100px">Lama</td>
				</tr>
			 </table>
			 <br/>
			 <input style="visibility: hidden;" type="button" value="FCFS" id ="fcfs" onclick="FCFS()"/>
			 <input style="visibility: hidden;" type="button" value="SJF" onclick="SJF()" id ="sjf"/>
			 <input style="visibility: hidden;" type="button" value="Round Robin" onclick="RR()" id ="rr"/>
			 <br/> <br/>
			 <div style="height: auto;">
			 <table border="1" style=" border: thick; text-align: center; position: static;" id = "tableFCFS" > 
			 	<tr>
			 		<td width="100px">Nama Akses </td>
					<td width="100px">Tiba</td>
					<td width="100px">Lama</td>
					<td width="100px">Mulai</td>
					<td width="100px">Selesai</td>
					<td width="100px">Waktu Tunggu</td>
					<td width="100px">TA</td>
			 	</tr>
			 	</table>
			 <table border="1" style=" border: thick; text-align: center; position: static;" id = "tableSJF"> 
			 	<tr>
			 		<td width="100px">Nama Akses </td>
					<td width="100px">Tiba</td>
					<td width="100px">Lama</td>
					<td width="100px">Mulai</td>
					<td width="100px">Selesai</td>
					<td width="100px">Waktu Tunggu</td>
					<td width="100px">TA</td>
			 	</tr>
			 </table>
			 <table border="1" style=" border: thick; text-align: center; position: static;" id = "tableRR"> 
			 	<tr>
			 		<td width="100px">Nama Akses </td>
					<td width="100px">Tiba</td>
					<td width="100px">Lama</td>
					<td width="100px">Mulai</td>
					<td width="100px">Selesai</td>
					<td width="100px">Sisa</td>
					<td width="100px">Waktu Tunggu</td>
					<td width="100px">TA</td>
			 	</tr>
			 </table></div><br/><br/>
			
			 
			 <textarea type="text" cols="80" rows="25" name="HasilFCFS" id="HasilFCFS" readonly="readonly" style=" position: static; font-size:14px; background-color:BLACK; opacity:0.7; color: WHITE;"> </textarea> 
			 <textarea type="text" cols="80" rows="25" name="HasilSJF" id="HasilSJF" readonly="readonly" style="  position: static;  font-size:14px; background-color:BLACK; opacity:0.7; color: WHITE;"> </textarea> <br />
			 <textarea type="text" cols="80" rows="25" name="HasilRR" id="HasilRR" readonly="readonly" style=" position: static;  font-size:14px; background-color:BLACK; opacity:0.7; color: WHITE;"> </textarea> <br />
			 
			 </form>
			
	</body>
</html>
